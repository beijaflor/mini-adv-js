<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<title>mini-adv-js</title>
<link rel="stylesheet" href="css/mini-adv.css">
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.js"></script>
<script>
jQuery(function($) {
  // set variables
  var $SCENE = $("#scene");
  var $MESSAGE = $("#message");

  var DEF_SCENE = $SCENE.attr("src");
  var DEF_TEXT = "default text";

  // error check
  if($SCENE.length < 1) {
    throw('no <img id="scene">');
  }
  if($MESSAGE.length < 1) {
    throw('no <p id="message">');
  }

  // init
  $SCENE.add($MESSAGE).on("click", function() {
    changeSet({
      "src": "img/scene02.png",
      "text": "this is the first text"
    });
  });

  // functions
  function changeSet(hash) {
    var src, text;
    hash = (hash) ? hash : {} ;
    src = (hash.src) ? hash.src : DEF_SCENE ;
    text = (hash.text) ? hash.text : DEF_TEXT ;
    console.log("src:" + src);
    console.log("text:" + text);

    changeScene(src);
    changeMessage(text);
  }

  function changeScene(src) {
    $SCENE.attr("src", src);
  }

  function changeMessage(text) {
    $MESSAGE.text(text);
  }
});

</script>
</head>
<body>

<h1>mini-adv-js</h1>

<section id="sec-scene">
<img src="img/scene01.png" id="scene">
</section>

<section id="sec-message">
<p id="message"></p>
</section>

</body>
</html>
